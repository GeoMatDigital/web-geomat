<ng-container
  *ngFor="let profile of profiles | async; let i = index; trackBy: trackByFn"
>
  <div
    *ngIf="selectedProfileId === profile.id"
    (click)="select.emit(profile.id)"
    class="card mat-elevation-z2 selected"
    solidProfileSelected
  >
    <ng-container
      *ngTemplateOutlet="cardContent; context: { profile: profile }"
    ></ng-container>
  </div>
  <div
    *ngIf="selectedProfileId !== profile.id"
    (click)="select.emit(profile.id)"
    class="card mat-elevation-z2"
  >
    <ng-container
      *ngTemplateOutlet="cardContent; context: { profile: profile }"
    ></ng-container>
  </div>
</ng-container>

<ng-template #cardContent let-profile="profile">
  <div class="title">
    {{ profile.name }}
  </div>
  <img
    [src]="
      profile.images.length > 0
        ? profile.images[0].small
        : '/assets/profile/no_image.svg'
    "
    alt="Bild des Minerals"
  />
</ng-template>
